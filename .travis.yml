language: cpp

matrix:
  include:
    - name: MacOS XCode Debug
      os: osx
      osx_image: xcode10.2
      compiler: clang
      before_script:
        - cd "${TRAVIS_BUILD_DIR}"
        - mkdir build && cd build
        - cmake -G"Xcode" ..
      script:
        - cmake --build . --config Debug
    - name: MacOS XCode Release
      os: osx
      osx_image: xcode10.2
      compiler: clang
      before_script:
        - cd "${TRAVIS_BUILD_DIR}"
        - mkdir build && cd build
        - cmake -G"Xcode" ..
      script:
        - cmake --build . --config Release
    - name: Windows MSVC Debug
      os: windows
      before_script:
        - cd "${TRAVIS_BUILD_DIR}"
        - mkdir build && cd build
        - cmake -G "Visual Studio 15 2017" -A x64 ..
      script:
        - cmake --build . --config Debug
    - name: Windows MSVC Release
      os: windows
      before_script:
        - cd "${TRAVIS_BUILD_DIR}"
        - mkdir build && cd build
        - cmake -G "Visual Studio 15 2017" -A x64 ..
      script:
        - cmake --build . --config Release
    - name: Linux GCC Debug
      os: linux
      dist: xenial
      sudo: false
      compiler: gcc
      env:
        - QTDIR=/usr/lib/x86_64-linux-gnu/cmake
      before_install:
        - sudo apt-get update -qq
      install:
        - sudo apt-get install qt5-default
      before_script:
        - cd "${TRAVIS_BUILD_DIR}"
        - mkdir build && cd build
        - cmake -G"Unix Makefiles" -DCMAKE_BUILD_TYPE=Debug .. 
      script:
        - cmake --build .
    - name: Linux GCC Release
      os: linux
      dist: xenial
      sudo: false
      compiler: gcc
      env:
        - QTDIR=/usr/lib/x86_64-linux-gnu/cmake
      before_install:
        - sudo apt-get update -qq
      install:
        - sudo apt-get install qt5-default
      before_script:
        - cd "${TRAVIS_BUILD_DIR}"
        - mkdir build && cd build
        - cmake -G"Unix Makefiles" -DCMAKE_BUILD_TYPE=Release .. 
      script:
        - cmake --build .
  